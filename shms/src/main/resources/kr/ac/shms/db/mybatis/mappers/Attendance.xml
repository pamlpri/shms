<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.ac.shms.lms.student.dao.StudentDAO">

	<select id="selectQRInfo" parameterType="SugangLecSTVO" resultType="SugangLecSTVO">
		SELECT lec_code
		       , stdnt_no
		  FROM sugang_req
		 WHERE stdnt_no=#{stdnt_no, jdbcType=VARCHAR}
		   AND lec_code=#{lec_code, jdbcType=VARCHAR}
	</select>
	
	<insert id="attend" parameterType="hashMap">
		INSERT INTO attendance (
			    atndan_no,
			    attend_date,
			    attend_time,
			    exit_time,
			    attend_stat,
			    lec_code,
			    stdnt_no
			) VALUES (
			    ATTEND_SEQ.NEXTVAL, 
			    SYSDATE, 
			    SYSDATE,
			    '',
			    '',
			    lec_code=#{lec_code, jdbcType=VARCHAR},
			    stdnt_no=#{stdnt_no, jdbcType=VARCHAR}
			)
	</insert>
</mapper>